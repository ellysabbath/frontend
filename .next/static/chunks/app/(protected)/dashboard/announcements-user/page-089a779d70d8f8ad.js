(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{3907:(e,t,n)=>{Promise.resolve().then(n.bind(n,6209))},6209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(5155),r=n(2115);let o=()=>{let[e,t]=(0,r.useState)({announcements:[],events:[],loading:!0,eventsLoading:!1,isSmallScreen:window.innerWidth<768}),[n,o]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[d,a]=(0,r.useState)(null),{announcements:c,events:h,loading:m,eventsLoading:x,isSmallScreen:p}=e,y="undefined"==typeof localStorage?null:localStorage.getItem("access_token");(0,r.useEffect)(()=>{let e=()=>{t(e=>({...e,isSmallScreen:window.innerWidth<768}))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=async()=>{try{t(e=>({...e,loading:!0}));let e=await fetch("https://bahifinal.pythonanywhere.com/announcements/",{headers:y?{Authorization:"Bearer ".concat(y)}:{}});if(!e.ok)throw Error("Failed to fetch announcements");let n=await e.json();t(e=>({...e,announcements:n,loading:!1}))}catch(e){t(e=>({...e,loading:!1}))}},f=async()=>{try{t(e=>({...e,eventsLoading:!0}));let e=await fetch("https://bahifinal.pythonanywhere.com/api/header-images/",{headers:y?{Authorization:"Bearer ".concat(y)}:{}});if(!e.ok)throw Error("Failed to fetch events");let n=await e.json();t(e=>({...e,events:n,eventsLoading:!1}))}catch(e){t(e=>({...e,eventsLoading:!1}))}},j=async()=>{try{s(!0);let e=await fetch("https://bahifinal.pythonanywhere.com/comments/");if(!e.ok)throw Error("Failed to fetch comments");let t=await e.json();o(t)}catch(e){a(e.message)}finally{s(!1)}};(0,r.useEffect)(()=>{g(),f(),j()},[]);let b={container:{width:p?"95%":"80%",maxWidth:"1200px",margin:"2rem auto",padding:p?"1rem":"2rem",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 6px 15px rgba(0,0,0,0.08)",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexDirection:p?"column":"row",gap:p?"1rem":"0"},heading:{color:"#2d3748",fontSize:p?"1.5rem":"2rem",fontWeight:600,margin:0},tableContainer:{overflowX:"auto",overflowY:"auto",maxHeight:"60vh",border:"1px solid #e5e7eb",borderRadius:"8px",marginBottom:"2rem",position:"relative"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0,minWidth:p?"600px":"auto"},th:{padding:p?"12px 8px":"16px 12px",textAlign:"left",backgroundColor:"#f9fafb",color:"#374151",fontWeight:600,fontSize:"0.875rem",position:"sticky",top:0,zIndex:10,borderBottom:"2px solid #e5e7eb"},td:{padding:p?"12px 8px":"16px 12px",textAlign:"left",borderBottom:"1px solid #f3f4f6",fontSize:"0.875rem",color:"#4b5563"},tr:{transition:"background-color 0.2s"},commentsSection:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},commentsTitle:{fontSize:"1.25rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},commentItem:{padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",marginBottom:"12px",backgroundColor:"#f9fafb"},commentContent:{color:"#4b5563",fontStyle:"italic",margin:0},loadingRow:{textAlign:"center",padding:"2rem",color:"#6b7280"},emptyRow:{textAlign:"center",padding:"2rem",color:"#6b7280",fontStyle:"italic"},eventsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"2rem 0 1rem 0",flexDirection:p?"column":"row",gap:p?"1rem":"0"},eventsTitle:{fontSize:p?"1.25rem":"1.5rem",fontWeight:600,color:"#2d3748",margin:0},eventImage:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"6px"}};return(0,i.jsxs)("div",{style:b.container,children:[(0,i.jsx)("div",{style:b.header,children:(0,i.jsx)("h2",{style:b.heading,children:"Announcements"})}),(0,i.jsx)("div",{style:b.tableContainer,children:(0,i.jsxs)("table",{style:b.table,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:b.th,children:"ID"}),(0,i.jsx)("th",{style:b.th,children:"Date"}),(0,i.jsx)("th",{style:b.th,children:"Title"}),(0,i.jsx)("th",{style:b.th,children:"Content"})]})}),(0,i.jsx)("tbody",{children:m?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:4,style:b.loadingRow,children:"Loading announcements..."})}):0===c.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:4,style:b.emptyRow,children:"No announcements found"})}):c.map(e=>(0,i.jsxs)("tr",{style:b.tr,children:[(0,i.jsx)("td",{style:b.td,children:e.id}),(0,i.jsx)("td",{style:b.td,children:new Date(e.date).toLocaleDateString()}),(0,i.jsx)("td",{style:b.td,children:(0,i.jsx)("strong",{children:e.title})}),(0,i.jsx)("td",{style:b.td,children:e.content})]},e.id))})]})}),(0,i.jsx)("div",{style:b.eventsHeader,children:(0,i.jsx)("h3",{style:b.eventsTitle,children:"Events"})}),(0,i.jsx)("div",{style:b.tableContainer,children:(0,i.jsxs)("table",{style:b.table,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:b.th,children:"ID"}),(0,i.jsx)("th",{style:b.th,children:"Image"}),(0,i.jsx)("th",{style:b.th,children:"Title"}),(0,i.jsx)("th",{style:b.th,children:"Description"}),(0,i.jsx)("th",{style:b.th,children:"Created At"}),(0,i.jsx)("th",{style:b.th,children:"Updated At"})]})}),(0,i.jsx)("tbody",{children:x?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,style:b.loadingRow,children:"Loading events..."})}):0===h.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,style:b.emptyRow,children:"No events found"})}):h.map(e=>(0,i.jsxs)("tr",{style:b.tr,children:[(0,i.jsx)("td",{style:b.td,children:e.id}),(0,i.jsx)("td",{style:b.td,children:e.image&&(0,i.jsx)("img",{src:e.image,alt:e.title,style:b.eventImage})}),(0,i.jsx)("td",{style:b.td,children:(0,i.jsx)("strong",{children:e.title})}),(0,i.jsx)("td",{style:b.td,children:e.description}),(0,i.jsx)("td",{style:b.td,children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,i.jsx)("td",{style:b.td,children:e.updated_at?new Date(e.updated_at).toLocaleDateString():"N/A"})]},e.id))})]})}),(0,i.jsxs)("div",{style:b.commentsSection,children:[(0,i.jsx)("h3",{style:b.commentsTitle,children:"Comments"}),l?(0,i.jsx)("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"Loading comments..."}):d?(0,i.jsxs)("p",{style:{color:"#dc2626",fontStyle:"italic"},children:["Error: ",d]}):0===n.length?(0,i.jsx)("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"No comments yet."}):n.map(e=>(0,i.jsx)("div",{style:b.commentItem,children:(0,i.jsx)("p",{style:b.commentContent,children:e.content})},e.id))]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3907)),_N_E=e.O()}]);