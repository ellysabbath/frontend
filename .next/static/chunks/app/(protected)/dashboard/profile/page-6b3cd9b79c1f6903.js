(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{1886:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(9483),l=t(3464),a=t(7383);let n="https://bahifinal.pythonanywhere.com/api/auth",i=l.A.create({baseURL:n,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let r=a.A.get(s.X);return r&&e.headers&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var r;let t=e.config;if((null==(r=e.response)?void 0:r.status)===401&&!t._retry){t._retry=!0;let e=a.A.get(s.a);if(e)try{let{data:r}=await l.A.post("".concat(n,"/token/refresh/"),{refresh:e}),o=r.access;return a.A.set(s.X,o,{sameSite:"Strict"}),t.headers.Authorization="Bearer ".concat(o),i(t)}catch(e){a.A.remove(s.X),a.A.remove(s.a),window.location.href="/login"}}return Promise.reject(e)});let o=i},3990:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(5155),l=t(2115),a=t(8869);function n(){var e,r;let{user:t}=(0,a.A)(),[n,i]=(0,l.useState)({email:"",first_name:"",last_name:"",full_name:"",role:"",bio:"",profile_picture:"",is_newsletter_subscribed:!1,website_url:"",github_url:"",linkedin_url:"",profile_completion_percentage:0,is_profile_complete:!1}),[o,c]=(0,l.useState)(!0),[d,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),f="/api/profile";(0,l.useEffect)(()=>{(async()=>{try{c(!0),u(null);let e=await fetch("".concat(f,"/current-user/"),{credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){let r=await e.json().catch(()=>({}));throw Error(r.error||"Failed to fetch user data: ".concat(e.status))}let r=await e.json();i(r)}catch(e){console.error("Error fetching user data:",e),u(e.message||"Failed to load profile data. Please try again later.")}finally{c(!1)}})()},[]);let b=(e,r)=>{i(t=>({...t,[e]:r}))},g=e=>{i(r=>({...r,[e]:!r[e]}))},v=async e=>{e.preventDefault(),u(null),h("");try{if(!(null==t?void 0:t.id))throw Error("User ID not available");let e=await fetch("".concat(f,"/users/").concat(t.id,"/"),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:n.first_name,last_name:n.last_name,bio:n.bio,website_url:n.website_url,github_url:n.github_url,linkedin_url:n.linkedin_url,is_newsletter_subscribed:n.is_newsletter_subscribed})});if(!e.ok){let r=await e.json().catch(()=>({}));throw Error(r.error||"Failed to update: ".concat(e.status))}let r=await e.json();i(r),h("Profile updated successfully!"),p(!1)}catch(e){console.error("Error updating profile:",e),u(e.message||"Failed to update profile. Please try again.")}};return o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile data..."})]})}):d&&!n.email?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md w-full",children:[(0,s.jsx)("div",{className:"text-red-600 mb-4 text-center",children:(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("div",{className:"text-red-800 text-center mb-6",children:d}),(0,s.jsx)("button",{className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&(0,s.jsx)("div",{className:"mb-6 bg-red-50 p-4 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),m&&(0,s.jsx)("div",{className:"mb-6 bg-green-50 p-4 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-green-800",children:m})})]})}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-8 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-2xl font-bold shadow-inner",children:n.profile_picture?(0,s.jsx)("img",{src:n.profile_picture,alt:"Profile",className:"h-24 w-24 rounded-full object-cover"}):(null==(e=n.first_name)?void 0:e.charAt(0))||(null==(r=n.email)?void 0:r.charAt(0).toUpperCase())||"U"}),(0,s.jsx)("button",{className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md border border-gray-200",onClick:()=>{var e;return null==(e=document.getElementById("profile-picture-upload"))?void 0:e.click()},children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,s.jsx)("input",{type:"file",id:"profile-picture-upload",className:"hidden",accept:"image/*"})]}),(0,s.jsxs)("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:n.full_name||"".concat(n.first_name," ").concat(n.last_name)}),(0,s.jsx)("p",{className:"text-gray-600",children:n.role||"User"}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap items-center justify-center md:justify-start",children:[n.github_url&&(0,s.jsx)("a",{href:n.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-900 mx-2",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})})}),n.linkedin_url&&(0,s.jsx)("a",{href:n.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-900 mx-2",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),n.website_url&&(0,s.jsx)("a",{href:n.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-900 mx-2",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})]})]}),(0,s.jsx)("div",{className:"mt-4 md:mt-0 md:ml-auto flex space-x-3",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{window.location.reload()},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",form:"profile-form",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]}):(0,s.jsxs)("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})})]})}),null!==n.profile_completion_percentage&&(0,s.jsxs)("div",{className:"px-6 py-4 bg-indigo-50 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-indigo-800",children:"Profile Completion"}),(0,s.jsx)("p",{className:"text-xs text-indigo-600",children:"Complete your profile to unlock all features"})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-indigo-800",children:[n.profile_completion_percentage,"% Complete"]})})]}),(0,s.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:"".concat(n.profile_completion_percentage,"%")}})})]}),(0,s.jsx)("div",{className:"px-6 py-8",children:(0,s.jsx)("form",{id:"profile-form",onSubmit:v,children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Personal Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),x?(0,s.jsx)("input",{type:"text",value:n.first_name,onChange:e=>b("first_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-900",children:n.first_name||"Not provided"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),x?(0,s.jsx)("input",{type:"text",value:n.last_name,onChange:e=>b("last_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-900",children:n.last_name||"Not provided"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("p",{className:"px-3 py-2 text-gray-900",children:n.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),x?(0,s.jsx)("textarea",{rows:4,value:n.bio,onChange:e=>b("bio",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself"}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-900 whitespace-pre-line",children:n.bio||"No bio provided"})]}),(0,s.jsx)("div",{className:"flex items-center",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"checkbox",id:"newsletter",checked:n.is_newsletter_subscribed,onChange:()=>g("is_newsletter_subscribed"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"newsletter",className:"ml-2 block text-sm text-gray-900",children:"Subscribe to newsletter"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"h-5 w-5 ".concat(n.is_newsletter_subscribed?"text-green-500":"text-gray-400"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.is_newsletter_subscribed?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:n.is_newsletter_subscribed?"Subscribed to newsletter":"Not subscribed to newsletter"})]})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Social Links"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),x?(0,s.jsx)("input",{type:"url",value:n.website_url,onChange:e=>b("website_url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}):n.website_url?(0,s.jsx)("a",{href:n.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline px-3 py-2 block",children:n.website_url}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-500",children:"No website provided"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GitHub"}),x?(0,s.jsx)("input",{type:"url",value:n.github_url,onChange:e=>b("github_url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username"}):n.github_url?(0,s.jsx)("a",{href:n.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline px-3 py-2 block",children:n.github_url}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-500",children:"No GitHub profile provided"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),x?(0,s.jsx)("input",{type:"url",value:n.linkedin_url,onChange:e=>b("linkedin_url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/username"}):n.linkedin_url?(0,s.jsx)("a",{href:n.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline px-3 py-2 block",children:n.linkedin_url}):(0,s.jsx)("p",{className:"px-3 py-2 text-gray-500",children:"No LinkedIn profile provided"})]})]})]})]})})})]})]})})}},6114:(e,r,t)=>{Promise.resolve().then(t.bind(t,3990))},7383:(e,r,t)=>{"use strict";function s(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)e[s]=t[s]}return e}t.d(r,{A:()=>l});var l=function e(r,t){function l(e,l,a){if("undefined"!=typeof document){"number"==typeof(a=s({},t,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var i in a)a[i]&&(n+="; "+i,!0!==a[i]&&(n+="="+a[i].split(";")[0]));return document.cookie=e+"="+r.write(l,e)+n}}return Object.create({set:l,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],s={},l=0;l<t.length;l++){var a=t[l].split("="),n=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(s[i]=r.read(n,i),e===i)break}catch(e){}}return e?s[e]:s}},remove:function(e,r){l(e,"",s({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,s({},this.attributes,r))},withConverter:function(r){return e(s({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},8869:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,O:()=>o});var s=t(5155),l=t(2115),a=t(1886),n=t(7383);let i=(0,l.createContext)(void 0);function o(e){let{children:r}=e,[t,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{if(n.A.get("access_token"))try{await p()}catch(e){console.error("Failed to fetch user data:",e),h()}d(!1)})()},[]);let u=async(e,r)=>{try{let{access:t,refresh:s,user:l}=(await a.A.post("/auth/login/",{email:e,password:r})).data;n.A.set("access_token",t,{expires:1}),n.A.set("refresh_token",s,{expires:7}),o(l)}catch(e){var t,s;throw Error((null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||"Login failed")}},m=async e=>{try{await a.A.post("/auth/register/",e)}catch(e){var r,t,s,l,n,i;throw Error((null==(s=e.response)||null==(t=s.data)||null==(r=t.email)?void 0:r[0])||(null==(i=e.response)||null==(n=i.data)||null==(l=n.username)?void 0:l[0])||"Registration failed")}},h=()=>{let e=n.A.get("refresh_token");e&&a.A.post("/auth/logout/",{refresh_token:e}).catch(()=>{}),n.A.remove("access_token"),n.A.remove("refresh_token"),o(null)},x=async e=>{try{let r=await a.A.patch("/auth/profile/update/",e);o(r.data)}catch(e){var r,t;throw Error((null==(t=e.response)||null==(r=t.data)?void 0:r.detail)||"Profile update failed")}},p=async()=>{try{let e=await a.A.get("/current-user/");o(e.data)}catch(e){throw e}};return(0,s.jsx)(i.Provider,{value:{user:t,loading:c,login:u,register:m,logout:h,updateProfile:x,refreshUserData:p},children:r})}function c(){let e=(0,l.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9483:(e,r,t)=>{"use strict";t.d(r,{X:()=>s,a:()=>l});let s="access_token",l="refresh_token"}},e=>{var r=r=>e(e.s=r);e.O(0,[464,441,684,358],()=>r(6114)),_N_E=e.O()}]);