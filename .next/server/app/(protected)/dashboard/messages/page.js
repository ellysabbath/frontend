(()=>{var e={};e.id=596,e.ids=[596],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(60687),s=r(43210),n=r(77567);let i="https://bahifinal.pythonanywhere.com/messages/";function a(){let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!1),[d,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(window.innerWidth<600),p=async()=>{a(!0);try{let e=await fetch(i);if(!e.ok)throw Error("Failed to fetch messages");let r=await e.json();t(r)}catch(e){n.A.fire("Error",e.message,"error")}finally{a(!1)}},m=async(e,t,r={})=>{let{isConfirmed:o,value:s}=await n.A.fire({title:"POST"===e?"Create SMS Message":"Edit SMS Message",html:`
        <div style="text-align: left;">
          <div style="margin-bottom: 1rem;">
            <label for="content" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">SMS Content</label>
            <textarea 
              id="content" 
              class="swal2-textarea" 
              style="
                width: 100%;
                min-height: 120px;
                padding: 0.75rem;
                border: 1px solid #D1D5DB;
                border-radius: 0.375rem;
                background-color: #F9FAFB;
                font-family: inherit;
                transition: border-color 0.2s;
              "
              required
            >${r.content||""}</textarea>
          </div>
        </div>
      `,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"POST"===e?"Create":"Update",confirmButtonColor:"#4F46E5",cancelButtonColor:"#6B7280",preConfirm:()=>({content:document.getElementById("content").value})});if(o)try{if(a(!0),!(await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to send an SMS");n.A.fire("Success","SMS sent successfully!","success"),p()}catch(e){n.A.fire("Error",e.message,"error")}finally{a(!1)}},h=async e=>{if((await n.A.fire({title:"Confirm Delete",text:"This SMS will be permanently deleted",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280",confirmButtonText:"Delete"})).isConfirmed)try{if(a(!0),!(await fetch(`${i}${e}/`,{method:"DELETE"})).ok)throw Error("Failed to delete message");n.A.fire("Deleted!","SMS deleted successfully.","success"),p()}catch(e){n.A.fire("Error",e.message,"error")}finally{a(!1)}},g=e.filter(e=>e.content.toLowerCase().includes(d.toLowerCase())),x={padding:"0.75rem 1rem",backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB",textAlign:"left",fontWeight:600,color:"#374151"},f={padding:"0.75rem 1rem",borderBottom:"1px solid #E5E7EB",textAlign:"left",color:"#4B5563"},b={background:"none",border:"none",color:"white",cursor:"pointer",marginRight:"0.5rem",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:500,transition:"all 0.2s ease"};return(0,o.jsxs)("div",{style:{width:c?"95%":"800px",margin:"2rem auto",padding:c?"1rem":"1.5rem",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid #E5E7EB"},children:[(0,o.jsx)("h2",{style:{color:"#111827",fontSize:"1.25rem",fontWeight:600,margin:0},children:"SMS Messages"}),(0,o.jsxs)("button",{onClick:()=>m("POST",i),style:{padding:"0.5rem 1rem",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontWeight:500,fontSize:"0.875rem",transition:"background-color 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4338CA",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#4F46E5",children:[(0,o.jsx)("svg",{style:{width:"1rem",height:"1rem"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create New"]})]}),(0,o.jsx)("div",{style:{marginBottom:"1rem"},children:(0,o.jsx)("input",{type:"text",placeholder:"Search messages...",value:d,onChange:e=>l(e.target.value),style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #D1D5DB",borderRadius:"0.375rem",fontSize:"1rem",marginBottom:"0.5rem"}})}),(0,o.jsx)("div",{style:{overflowX:"auto",borderRadius:"0.5rem"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:c?"0.875rem":"0.9375rem",border:"1px solid #E5E7EB",borderRadius:"0.5rem",overflow:"hidden"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:x,children:"Content"}),(0,o.jsx)("th",{style:x,children:"Date"}),(0,o.jsx)("th",{style:{...x,width:"160px"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:r?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:3,style:{...f,textAlign:"center",padding:"1.5rem"},children:(0,o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#F9FAFB",borderRadius:"0.375rem",color:"#6B7280"},children:[(0,o.jsx)("svg",{style:{width:"1rem",height:"1rem",animation:"spin 1s linear infinite"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Loading messages..."]})})}):0===g.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:3,style:{...f,textAlign:"center",padding:"1.5rem",color:"#6B7280"},children:"No messages found"})}):g.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:f,children:(0,o.jsx)("div",{style:{maxWidth:c?"200px":"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.content})}),(0,o.jsx)("td",{style:f,children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,o.jsxs)("td",{style:f,children:[(0,o.jsx)("button",{onClick:()=>m("PUT",`${i}${e.id}/`,e),style:{...b,backgroundColor:"#3B82F6"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#2563EB",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#3B82F6",children:"Edit"}),(0,o.jsx)("button",{onClick:()=>h(e.id),style:{...b,backgroundColor:"#EF4444"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#DC2626",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#EF4444",children:"Delete"})]})]},e.id))})]})})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44029:(e,t,r)=>{Promise.resolve().then(r.bind(r,83263))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var o=r(65239),s=r(48088),n=r(88170),i=r.n(n),a=r(30893),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l={children:["",{children:["(protected)",{children:["dashboard",{children:["messages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83263)),"/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/dashboard/messages/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,61331)),"/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,96612)),"/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/mnt/c/users/elly/desktop/sadaka/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/dashboard/messages/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(protected)/dashboard/messages/page",pathname:"/dashboard/messages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83263:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/dashboard/messages/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/mnt/c/users/elly/desktop/sadaka/frontend/app/(protected)/dashboard/messages/page.tsx","default")},87997:(e,t,r)=>{Promise.resolve().then(r.bind(r,21005))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,985,658,814,770,803,158],()=>r(64926));module.exports=o})();